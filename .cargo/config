
[target.'cfg(all(target_arch = "arm", target_os = "none"))']
runner = "qemu-system-arm-portux-fork -M portux920t -m 64M -nographic -s -kernel"

#[target.'cfg(all(target_arch = "arm", target_os = "none"))']
#runner = "gdb-multiarch --nh -ex 'set architecture arm' -ex 'file target/armv4t-none-eabi/debug/rost' -ex 'target remote localhost:1234' -ex 'layout split'"

rustflags = [
  # This is needed if your flash or ram addresses are not aligned to 0x10000 in memory.x
  # See https://github.com/rust-embedded/cortex-m-quickstart/pull/95
  "-C", "link-arg=--nmagic",
  "-C", "link-arg=-Tmemory.x",
]

[build]
target = "armv4t-none-eabi.json"

[unstable]
build-std = ["core", "compiler_builtins"]
build-std-features = ["compiler-builtins-mem"]