[target.thumbv4t-none-eabi]
runner = "qemu-system-arm-portux-fork -M portux920t -m 64M -nographic -S -s -kernel"

[target.'cfg(all(target_arch = "arm", target_os = "none"))']
runner = "gdb-multiarch --nh -ex 'set architecture arm' -ex 'file target/thumbv4t-none-eabi/debug/rost' -ex 'target remote localhost:1234' -ex 'layout split'"

rustflags = [
  # This is needed if your flash or ram addresses are not aligned to 0x10000 in memory.x
  # See https://github.com/rust-embedded/cortex-m-quickstart/pull/95
  "-C", "link-arg=--nmagic",
  "-C", "link-arg=-Tmemory.x",
]

[build]
target = "thumbv4t-none-eabi"

[unstable]
build-std = ["core"]